
# Ngrok documentation

## Expose a local web server to the internet

ngrok allows you to expose a web server running
your local machine to the internet.
Just tell ngrok what port your web server is listening on.

If you don't know what port your web server is listening on,
it's probably port 80, the default for HTTP.

ngrok http 80.

When you start ngrok, it will display a UI in your terminal with
the public URL of your tunnel and ohter status and metrics information
about connections made over your tunnel.


ngrok by @inconshreveable

Tunnel Status                 online
Version                       2.0/2.0
Web Interface                 http://127.0.0.1:4040
Forwarding                    http://92832de0.ngrok.io -> localhost:80
Forwarding                    https://92832de0.ngrok.io -> localhost:80

Connnections                  ttl     opn     rt1     rt5     p50     p90
                              0       0       0.00    0.00    0.00    0.00

### Inspecting your traffic

ngrok provides a real-time web UI where you can
introspect all of the HTTP traffic over your tunnels.

After you have, look back at the inspection UI.
You will see all of the details of the request and response
including time, duration, headers, query parameters and request payload
as well as the raw bytes on the wire.


### Replaying requests

Developing for webhooks issued by external APIs can often slow down your development
cycle by requiring you to do some work, like dialing a phone, to
trigger the hook request. ngrok allows you to replay any request with a single click
dramatically speeding up your iteration cycle. Click the Replay button at the top-right corner
of any request on the web inspection UI to replay it.


### Request body validation

ngrok has special support for the most common data interchange formats in use on the web.

Any XML or JSON data inrequest or response bodies is automatically pretty-pinned for you and
checked for syntax errors.


### Installing your AuthToken


Many advanced features of the ngrok.com service described in further sections require that you
sign up for an account. Once you've signed up, you need to configure ngrok with the authtoken
that appears on your dashboard. This will grant you access to account only features.
ngrok has a simple 'authtoken' command to make this easy.

Under the hood, all the authtoken command does it to add the
authtoken property in your ngrok configuration file.

ngrok authtoken <YOUR_AUTHTOKEN>


## HTTP Tunnels

### Custom subdomain names

ngrok assigns random hexadecimal names to the HTTP tunnels it opens for you.

This is okay for one-time personal uses. But if you're dispaying the URL at a
hackathon or integrating with a third-party webhook, it can be frustrating if the tunnel name
changes or is difficult to read. You can specify a custom subdomain for your tunnel URL with
the -subdomain switch.

ngrok http -subdomain=inconshreveable 80

ngrok by @inconshreveable

...
Forwarding                    http://inconshreveable.ngrok.io -> 127.0.0.1:80
Forwarding                    https://inconshreveable.ngrok.io -> 127.0.0.1:80


### Password protecting your tunnel

Anyone who can guess your tunnel URL can access your local web server unless you protect it with a password.

You can make your tunnels secure with the -auth switch.

This enforces HTTP Basic Auth on all requests with the username and password you specify as an argument.

ngrok http -auth="username:password" 8080


### Tunnels on custom domains (white label URLs)

Instead of your tunnel appearing as a subdomain of ngrok.io,
you can run ngrok tunnels over your domains. To run a tunnel over
dev.example.com, follow these steps:

1. Enter dev.example.com as a Reserved Domain on the Reserved tab of your ngok.com
dashboard. This guarantees that no one else can hijack your domain name with their own tunnel.

2. On your dashboard, click on the 'CNAME' icon to copy your CNAME target.

3. Create a DNS CNAME record from dev.example.com to your CNAME target.
In this example, we would point the CNAME record to 2w9c34maz.cname.ngrok.io

4. Invoke ngrok with the -hostname switch and specify the name of your custom domain as an argument.
Make sure the -region you specify matches the region in which you reserved your domain.

ngrok http -region=us -hostname=dev.example.com 8000


### Tunneling only HTTP or HTTPS

By default, when ngrok runs an http tunnel, it opens endpoints for both HTTP and HTTPS traffis.
If you wish to only forward HTTP or HTTPs traffic, but not both, you can toggle thie behavior the -bind-tls switch.

Example: Only listen on an HTTP tunnel endpoint
ngrok http -bind-tls=false site.dev:80

Example: Only listen on an HTTPS tunnel endpoint
ngrok http -bind-tls=true site.dev:80


### Websockets

Websockets endpoints work through ngrok's http tunnels
without any changes.
However, there is currnetly no support for introspecting them beyond the initial 101
Swithing Protocols response.


## TLS Tunnels

HTTPS tunnels terminate all TLS(SSL) traffic at the ngrok.com servers using
ngrok.com certificates. For production-grade services, you'll want your tunneled traffic to
be encrypted with your own TLS key and certificate.

ngrok makes this extraordinarily easy with TLS tunnels.

Forward TLS traffic to a local HTTPS server on port 443

ngrok tls -subdomain=encrypted 443

Once your tunnel is running, try accessing it with curl.

curl --insecure https://encrypted.ngrok.io
